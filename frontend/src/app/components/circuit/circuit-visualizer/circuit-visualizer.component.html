<div #circuitContainer class="circuit-container"></div>

<div *ngIf="legendItems.length > 0" class="legend-container mt-4 p-3 border rounded bg-light">
  <h6 class="border-bottom pb-2 mb-3">Leyenda de Símbolos</h6>
  <div class="d-flex flex-wrap align-items-center">

    <div *ngFor="let item of legendItems" class="d-flex align-items-center me-4 mb-2">
      <svg width="36" height="36">
        <!-- Puerta Genérica -->
        <g *ngIf="item.type === 'GATE'">
          <rect x="1" y="1" width="34" height="34" rx="4" fill="#e9ecef" stroke="#343a40" stroke-width="2"/>
          <text x="18" y="24" font-size="16" font-weight="bold" text-anchor="middle" fill="#343a40">{{ item.gateName }}</text>
        </g>

        <!-- Control CNOT -->
        <g *ngIf="item.type === 'CNOT_CONTROL'">
          <circle cx="18" cy="18" r="5" fill="#0d6efd"/>
        </g>

        <!-- Objetivo CNOT -->
        <g *ngIf="item.type === 'CNOT_TARGET'">
          <circle cx="18" cy="18" r="12" fill="none" stroke="#0d6efd" stroke-width="2"/>
          <line x1="10" y1="10" x2="26" y2="26" stroke="#0d6efd" stroke-width="2"/>
          <line x1="10" y1="26" x2="26" y2="10" stroke="#0d6efd" stroke-width="2"/>
        </g>
      </svg>
      <span class="ms-2 small text-muted">{{ item.name }}</span>
    </div>

  </div>
</div>
